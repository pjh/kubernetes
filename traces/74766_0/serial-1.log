SeaBIOS (version 1.8.2-20190122_225043-google)
Total RAM Size = 0x00000001e0000000 = 7680 MiB
CPUs found: 2     Max CPUs supported: 2
found virtio-scsi at 0:3
virtio-scsi vendor='Google' product='PersistentDisk' rev='1' type=0 removable=0
virtio-scsi blksize=512 sectors=209715200 = 102400 MiB
drive 0x000f29c0: PCHS=0/0/0 translation=lba LCHS=1024/255/63 s=209715200
Booting from Hard Disk 0...
2019/03/01 18:34:51 GCEWindowsAgent: GCE Agent Started (version 4.6.0@1)
2019/03/01 18:35:14 GCEInstanceSetup: Starting sysprep specialize phase.
2019/03/01 18:35:16 GCEInstanceSetup: All networks set to DHCP.
2019/03/01 18:35:16 GCEInstanceSetup: Running 'netsh' with arguments 'interface ipv4 set interface Ethernet mtu=1460'
2019/03/01 18:35:17 GCEInstanceSetup: --> The following helper DLL cannot be loaded: C:\PROGRAM FILES\GOOGLE\COMPUTE ENGINE\GVNIC_HELPER\GVNICHELPER.DLL.
2019/03/01 18:35:17 GCEInstanceSetup: --> Ok.
2019/03/01 18:35:17 GCEInstanceSetup: MTU set to 1460.
2019/03/01 18:35:17 GCEInstanceSetup: Running 'route' with arguments '/p add 169.254.169.254 mask 255.255.255.255 0.0.0.0 if 8 metric 1'
2019/03/01 18:35:17 GCEInstanceSetup: Added persistent route to metadata netblock via first netkvm adapter.
2019/03/01 18:35:17 GCEInstanceSetup: Getting hostname from metadata server.
2019/03/01 18:35:18 GCEInstanceSetup: Changing hostname from inst-install-windows-1809-core-for-containers-build-image-j4pvb to e2e-test-peterhornyack-windows-node-group-kvdp.
2019/03/01 18:35:18 GCEInstanceSetup: Renamed from inst-install-windows-1809-core-for-containers-build-image-j4pvb to e2e-test-peterhornyack-windows-node-group-kvdp.
2019/03/01 18:35:18 GCEMetadataScripts: Starting specialize scripts (version 4.2.1@1).
2019/03/01 18:35:18 GCEMetadataScripts: No specialize scripts to run.
2019/03/01 18:35:18 GCEMetadataScripts: Finished running specialize scripts.
2019/03/01 18:35:18 GCEInstanceSetup: Finished with sysprep specialize phase, restarting...
2019/03/01 18:35:19 GCEWindowsAgent: GCE Agent Stopped
SeaBIOS (version 1.8.2-20190122_225043-google)
Total RAM Size = 0x00000001e0000000 = 7680 MiB
CPUs found: 2     Max CPUs supported: 2
found virtio-scsi at 0:3
virtio-scsi vendor='Google' product='PersistentDisk' rev='1' type=0 removable=0
virtio-scsi blksize=512 sectors=209715200 = 102400 MiB
drive 0x000f29c0: PCHS=0/0/0 translation=lba LCHS=1024/255/63 s=209715200
Booting from Hard Disk 0...
2019/03/01 18:35:45 GCEWindowsAgent: GCE Agent Started (version 4.6.0@1)
2019/03/01 18:36:01 GCEInstanceSetup: Disabled Ctrl + Alt + Del.
2019/03/01 18:36:01 GCEInstanceSetup: Enable RDP firewall rules.
2019/03/01 18:36:01 GCEInstanceSetup: Running 'netsh' with arguments 'advfirewall firewall set rule group=remote desktop new enable=Yes'
2019/03/01 18:36:03 GCEInstanceSetup: --> The following helper DLL cannot be loaded: C:\PROGRAM FILES\GOOGLE\COMPUTE ENGINE\GVNIC_HELPER\GVNICHELPER.DLL.
2019/03/01 18:36:03 GCEInstanceSetup: --> 
2019/03/01 18:36:03 GCEInstanceSetup: --> Updated 3 rule(s).
2019/03/01 18:36:03 GCEInstanceSetup: --> Ok.
2019/03/01 18:36:03 GCEInstanceSetup: Restarting Terminal Service services, to enable RDP.
2019/03/01 18:36:08 GCEInstanceSetup: Enabled Remote Desktop.
2019/03/01 18:36:08 GCEInstanceSetup: Configuring WinRM...
2019/03/01 18:36:12 GCEInstanceSetup: Running 'netsh' with arguments 'advfirewall firewall add rule profile=any name=Windows Remote Management (HTTPS-In) dir=in localport=5986 protocol=TCP action=allow'
2019/03/01 18:36:12 GCEInstanceSetup: --> The following helper DLL cannot be loaded: C:\PROGRAM FILES\GOOGLE\COMPUTE ENGINE\GVNIC_HELPER\GVNICHELPER.DLL.
2019/03/01 18:36:12 GCEInstanceSetup: --> Ok.
2019/03/01 18:36:13 GCEInstanceSetup: Setup of WinRM complete.
2019/03/01 18:36:13 GCEInstanceSetup: Running startup scripts from metadata server.
2019/03/01 18:36:13 GCEInstanceSetup: Running 'schtasks' with arguments '/run /tn GCEStartup'
2019/03/01 18:36:13 GCEInstanceSetup: --> SUCCESS: Attempted to run the scheduled task "GCEStartup".
2019/03/01 18:36:14 GCEInstanceSetup: ------------------------------------------------------------
2019/03/01 18:36:14 GCEInstanceSetup: Instance setup finished. e2e-test-peterhornyack-windows-node-group-kvdp is ready to use.
2019/03/01 18:36:14 GCEInstanceSetup: ------------------------------------------------------------
2019/03/01 18:36:15 GCEMetadataScripts: Starting startup scripts (version 4.2.1@1).
2019/03/01 18:36:15 GCEMetadataScripts: Found windows-startup-script-ps1 in metadata.
2019/03/01 18:36:21 windows-startup-script-ps1: WARNING: The names of some imported commands from the module 'common' include unapproved verbs that might make them 
2019/03/01 18:36:21 windows-startup-script-ps1: less discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the Verbose 
2019/03/01 18:36:21 windows-startup-script-ps1: parameter. For a list of approved verbs, type Get-Verb.
2019/03/01 18:36:21 windows-startup-script-ps1: WARNING: The names of some imported commands from the module 'common' include unapproved verbs that might make them 
2019/03/01 18:36:21 windows-startup-script-ps1: less discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the Verbose 
2019/03/01 18:36:21 windows-startup-script-ps1: parameter. For a list of approved verbs, type Get-Verb.
2019/03/01 18:36:21 windows-startup-script-ps1: WARNING: The names of some imported commands from the module 'k8s-node-setup' include unapproved verbs that might make 
2019/03/01 18:36:21 windows-startup-script-ps1: them less discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the 
2019/03/01 18:36:22 windows-startup-script-ps1: Verbose parameter. For a list of approved verbs, type Get-Verb.
2019/03/01 18:36:24 windows-startup-script-ps1: Windows version:
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: Major  Minor  Build  Revision
2019/03/01 18:36:24 windows-startup-script-ps1: -----  -----  -----  --------
2019/03/01 18:36:24 windows-startup-script-ps1: 10     0      17763  0       
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: Installed hotfixes:
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: Source        Description      HotFixID      InstalledBy          InstalledOn              
2019/03/01 18:36:24 windows-startup-script-ps1: ------        -----------      --------      -----------          -----------              
2019/03/01 18:36:24 windows-startup-script-ps1: E2E-TEST-P... Update           KB4483452     NT AUTHORITY\SYSTEM  2/26/2019 12:00:00 AM    
2019/03/01 18:36:24 windows-startup-script-ps1: E2E-TEST-P... Security Update  KB4470788     NT AUTHORITY\SYSTEM  2/26/2019 12:00:00 AM    
2019/03/01 18:36:24 windows-startup-script-ps1: E2E-TEST-P... Security Update  KB4487044     NT AUTHORITY\SYSTEM  2/26/2019 12:00:00 AM    
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: 
2019/03/01 18:36:24 windows-startup-script-ps1: GCE Windows image:
2019/03/01 18:36:25 windows-startup-script-ps1: projects/windows-cloud/global/images/windows-server-1809-dc-core-for-containers-v20190225
2019/03/01 18:36:25 windows-startup-script-ps1: 
2019/03/01 18:36:25 windows-startup-script-ps1: Disabling Windows Firewall
2019/03/01 18:36:29 windows-startup-script-ps1: Disabling Windows Update service
2019/03/01 18:36:29 windows-startup-script-ps1: [SC] ChangeServiceConfig SUCCESS
2019/03/01 18:36:29 windows-startup-script-ps1: 
2019/03/01 18:36:29 windows-startup-script-ps1: SERVICE_NAME: wuauserv 
2019/03/01 18:36:29 windows-startup-script-ps1:         TYPE               : 30  WIN32  
2019/03/01 18:36:29 windows-startup-script-ps1:         STATE              : 3  STOP_PENDING 
2019/03/01 18:36:29 windows-startup-script-ps1:                                 (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
2019/03/01 18:36:29 windows-startup-script-ps1:         WIN32_EXIT_CODE    : 0  (0x0)
2019/03/01 18:36:29 windows-startup-script-ps1:         SERVICE_EXIT_CODE  : 0  (0x0)
2019/03/01 18:36:29 windows-startup-script-ps1:         CHECKPOINT         : 0x2
2019/03/01 18:36:29 windows-startup-script-ps1:         WAIT_HINT          : 0x7530
2019/03/01 18:36:30 GCEInstanceSetup: Checking instance license activation status.
2019/03/01 18:36:30 GCEInstanceSetup: e2e-test-peterhornyack-windows-node-group-kvdp needs to be activated by a KMS Server.
2019/03/01 18:36:30 GCEInstanceSetup: Key Management Service machine name set to kms.windows.googlecloud.com successfully.
2019/03/01 18:36:30 GCEInstanceSetup: Error: 0xC004E016 On a computer running Microsoft Windows non-core edition, run 'slui.exe 0x2a 0xC004E016' to display the error text.
2019/03/01 18:36:30 GCEInstanceSetup: Activating instance...
2019/03/01 18:36:30 GCEInstanceSetup: Activating Windows(R), ServerDatacenterACor edition (90c362e5-0da1-4bfd-b53b-b87d309ade43) ...
2019/03/01 18:36:30 GCEInstanceSetup: Product activated successfully.
2019/03/01 18:36:30 GCEInstanceSetup: Activation successful.
2019/03/01 18:36:41 windows-startup-script-ps1: Disabling Windows Defender service
2019/03/01 18:37:01 windows-startup-script-ps1: 
2019/03/01 18:37:01 windows-startup-script-ps1: Success Restart Needed Exit Code      Feature Result                               
2019/03/01 18:37:01 windows-startup-script-ps1: ------- -------------- ---------      --------------                               
2019/03/01 18:37:01 windows-startup-script-ps1: True    Yes            SuccessRest... {Windows Defender Antivirus}                 
2019/03/01 18:37:01 windows-startup-script-ps1: WARNING: You must restart this server to finish the removal process.
2019/03/01 18:37:01 windows-startup-script-ps1: Test cluster detected, installing OpenSSH.
2019/03/01 18:37:01 windows-startup-script-ps1: WARNING: The names of some imported commands from the module 'common' include unapproved verbs that might make them 
2019/03/01 18:37:01 windows-startup-script-ps1: less discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the Verbose 
2019/03/01 18:37:01 windows-startup-script-ps1: parameter. For a list of approved verbs, type Get-Verb.
2019/03/01 18:37:01 windows-startup-script-ps1: WARNING: The names of some imported commands from the module 'install-ssh' include unapproved verbs that might make 
2019/03/01 18:37:01 windows-startup-script-ps1: them less discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the 
2019/03/01 18:37:01 windows-startup-script-ps1: Verbose parameter. For a list of approved verbs, type Get-Verb.
2019/03/01 18:37:07 windows-startup-script-ps1: [SC] SetServiceObjectSecurity SUCCESS
2019/03/01 18:37:07 windows-startup-script-ps1: [SC] ChangeServiceConfig2 SUCCESS
2019/03/01 18:37:07 windows-startup-script-ps1: [SC] ChangeServiceConfig2 SUCCESS
2019/03/01 18:37:07 windows-startup-script-ps1: sshd and ssh-agent services successfully installed
2019/03/01 18:37:08 windows-startup-script-ps1: 
2019/03/01 18:37:08 windows-startup-script-ps1: Caption                 : 
2019/03/01 18:37:08 windows-startup-script-ps1: Description             : 
2019/03/01 18:37:08 windows-startup-script-ps1: ElementName             : OpenSSH Server (sshd)
2019/03/01 18:37:08 windows-startup-script-ps1: InstanceID              : sshd
2019/03/01 18:37:08 windows-startup-script-ps1: CommonName              : 
2019/03/01 18:37:08 windows-startup-script-ps1: PolicyKeywords          : 
2019/03/01 18:37:08 windows-startup-script-ps1: Enabled                 : True
2019/03/01 18:37:08 windows-startup-script-ps1: PolicyDecisionStrategy  : 2
2019/03/01 18:37:08 windows-startup-script-ps1: PolicyRoles             : 
2019/03/01 18:37:08 windows-startup-script-ps1: ConditionListType       : 3
2019/03/01 18:37:08 windows-startup-script-ps1: CreationClassName       : MSFT|FW|FirewallRule|sshd
2019/03/01 18:37:08 windows-startup-script-ps1: ExecutionStrategy       : 2
2019/03/01 18:37:08 windows-startup-script-ps1: Mandatory               : 
2019/03/01 18:37:08 windows-startup-script-ps1: PolicyRuleName          : 
2019/03/01 18:37:08 windows-startup-script-ps1: Priority                : 
2019/03/01 18:37:08 windows-startup-script-ps1: RuleUsage               : 
2019/03/01 18:37:08 windows-startup-script-ps1: SequencedActions        : 3
2019/03/01 18:37:08 windows-startup-script-ps1: SystemCreationClassName : 
2019/03/01 18:37:08 windows-startup-script-ps1: SystemName              : 
2019/03/01 18:37:08 windows-startup-script-ps1: Action                  : Allow
2019/03/01 18:37:08 windows-startup-script-ps1: Direction               : Inbound
2019/03/01 18:37:08 windows-startup-script-ps1: DisplayGroup            : 
2019/03/01 18:37:08 windows-startup-script-ps1: DisplayName             : OpenSSH Server (sshd)
2019/03/01 18:37:08 windows-startup-script-ps1: EdgeTraversalPolicy     : Block
2019/03/01 18:37:08 windows-startup-script-ps1: EnforcementStatus       : NotApplicable
2019/03/01 18:37:08 windows-startup-script-ps1: LocalOnlyMapping        : False
2019/03/01 18:37:08 windows-startup-script-ps1: LooseSourceMapping      : False
2019/03/01 18:37:08 windows-startup-script-ps1: Owner                   : 
2019/03/01 18:37:08 windows-startup-script-ps1: Platforms               : {}
2019/03/01 18:37:08 windows-startup-script-ps1: PolicyStoreSource       : PersistentStore
2019/03/01 18:37:08 windows-startup-script-ps1: PolicyStoreSourceType   : Local
2019/03/01 18:37:08 windows-startup-script-ps1: PrimaryStatus           : OK
2019/03/01 18:37:08 windows-startup-script-ps1: Profiles                : 0
2019/03/01 18:37:09 windows-startup-script-ps1: RuleGroup               : 
2019/03/01 18:37:09 windows-startup-script-ps1: Status                  : The rule was parsed successfully from the store. (65536)
2019/03/01 18:37:09 windows-startup-script-ps1: StatusCode              : 65536
2019/03/01 18:37:09 windows-startup-script-ps1: PSComputerName          : 
2019/03/01 18:37:09 windows-startup-script-ps1: Name                    : sshd
2019/03/01 18:37:09 windows-startup-script-ps1: ID                      : sshd
2019/03/01 18:37:09 windows-startup-script-ps1: Group                   : 
2019/03/01 18:37:09 windows-startup-script-ps1: Profile                 : Any
2019/03/01 18:37:09 windows-startup-script-ps1: Platform                : {}
2019/03/01 18:37:09 windows-startup-script-ps1: LSM                     : False
2019/03/01 18:37:09 windows-startup-script-ps1: 
2019/03/01 18:37:11 windows-startup-script-ps1: The OpenSSH SSH Server service is starting..
2019/03/01 18:37:11 windows-startup-script-ps1: The OpenSSH SSH Server service was started successfully.
2019/03/01 18:37:11 windows-startup-script-ps1: 
2019/03/01 18:37:12 GCEWindowsAgent: Creating user peterhornyack
2019/03/01 18:37:13 windows-startup-script-ps1: The OpenSSH Authentication Agent service is starting.
2019/03/01 18:37:13 windows-startup-script-ps1: The OpenSSH Authentication Agent service was started successfully.
2019/03/01 18:37:13 windows-startup-script-ps1: 
2019/03/01 18:37:13 windows-startup-script-ps1: C:\write-ssh-keys.ps1:
2019/03/01 18:37:13 windows-startup-script-ps1: Import-Module -Force C:\user-profile.psm1
2019/03/01 18:37:13 windows-startup-script-ps1: # For [System.Web.Security.Membership]::GeneratePassword():
2019/03/01 18:37:13 windows-startup-script-ps1: Add-Type -AssemblyName System.Web
2019/03/01 18:37:13 windows-startup-script-ps1: 
2019/03/01 18:37:13 windows-startup-script-ps1: $poll_interval = 10
2019/03/01 18:37:13 windows-startup-script-ps1: 
2019/03/01 18:37:13 windows-startup-script-ps1: while($true) {
2019/03/01 18:37:13 windows-startup-script-ps1:   $r1 = ""
2019/03/01 18:37:13 windows-startup-script-ps1:   $r2 = ""
2019/03/01 18:37:13 windows-startup-script-ps1:   # Try both the new "ssh-keys" and the legacy "sshSkeys" attributes for
2019/03/01 18:37:13 windows-startup-script-ps1:   # compatibility. The Invoke-RestMethods calls will fail when these attributes
2019/03/01 18:37:13 windows-startup-script-ps1:   # do not exist, or they may fail when the connection to the metadata server
2019/03/01 18:37:13 windows-startup-script-ps1:   # gets disrupted while we set up container networking on the node.
2019/03/01 18:37:14 windows-startup-script-ps1:   try {
2019/03/01 18:37:14 windows-startup-script-ps1:     $r1 = Invoke-RestMethod -Headers @{"Metadata-Flavor"="Google"} -Uri `
2019/03/01 18:37:14 windows-startup-script-ps1:         "http://metadata.google.internal/computeMetadata/v1/project/attributes/ssh-keys"
2019/03/01 18:37:14 windows-startup-script-ps1:   } catch {}
2019/03/01 18:37:14 windows-startup-script-ps1:   try {
2019/03/01 18:37:14 windows-startup-script-ps1:     $r2 = Invoke-RestMethod -Headers @{"Metadata-Flavor"="Google"} -Uri `
2019/03/01 18:37:14 windows-startup-script-ps1:         "http://metadata.google.internal/computeMetadata/v1/project/attributes/sshKeys"
2019/03/01 18:37:14 windows-startup-script-ps1:   } catch {}
2019/03/01 18:37:14 windows-startup-script-ps1:   $response= $r1 + $r2
2019/03/01 18:37:14 windows-startup-script-ps1: 
2019/03/01 18:37:14 windows-startup-script-ps1:   # Split the response into lines; handle both \r\n and \n line breaks.
2019/03/01 18:37:14 windows-startup-script-ps1:   $tuples = $response -split "\r?\n"
2019/03/01 18:37:14 windows-startup-script-ps1: 
2019/03/01 18:37:14 windows-startup-script-ps1:   $users_to_keys = @{}
2019/03/01 18:37:14 windows-startup-script-ps1:   foreach($line in $tuples) {
2019/03/01 18:37:14 windows-startup-script-ps1:     if ([string]::IsNullOrEmpty($line)) {
2019/03/01 18:37:14 windows-startup-script-ps1:       continue
2019/03/01 18:37:14 windows-startup-script-ps1:     }
2019/03/01 18:37:14 windows-startup-script-ps1:     # The final parameter to -Split is the max number of strings to return, so
2019/03/01 18:37:14 windows-startup-script-ps1:     # this only splits on the first colon.
2019/03/01 18:37:14 windows-startup-script-ps1:     $username, $key = $line -Split ":",2
2019/03/01 18:37:14 windows-startup-script-ps1: 
2019/03/01 18:37:14 windows-startup-script-ps1:     # Detect and skip keys without associated usernames, which may come back
2019/03/01 18:37:14 windows-startup-script-ps1:     # from the legacy sshKeys metadata.
2019/03/01 18:37:14 windows-startup-script-ps1:     if (($username -like "ssh-*") -or ($username -like "ecdsa-*")) {
2019/03/01 18:37:14 windows-startup-script-ps1:       Write-Error "Skipping key without username: $username"
2019/03/01 18:37:14 windows-startup-script-ps1:       continue
2019/03/01 18:37:14 windows-startup-script-ps1:     }
2019/03/01 18:37:14 windows-startup-script-ps1:     if (-not $users_to_keys.ContainsKey($username)) {
2019/03/01 18:37:14 windows-startup-script-ps1:       $users_to_keys[$username] = @($key)
2019/03/01 18:37:14 windows-startup-script-ps1:     }
2019/03/01 18:37:14 windows-startup-script-ps1:     else {
2019/03/01 18:37:14 windows-startup-script-ps1:       $keyList = $users_to_keys[$username]
2019/03/01 18:37:15 windows-startup-script-ps1:       $users_to_keys[$username] = $keyList + $key
2019/03/01 18:37:15 windows-startup-script-ps1:     }
2019/03/01 18:37:15 windows-startup-script-ps1:   }
2019/03/01 18:37:15 windows-startup-script-ps1:   $users_to_keys.GetEnumerator() | ForEach-Object {
2019/03/01 18:37:15 windows-startup-script-ps1:     $username = $_.key
2019/03/01 18:37:15 windows-startup-script-ps1: 
2019/03/01 18:37:15 windows-startup-script-ps1:     # We want to create an authorized_keys file in the user profile directory
2019/03/01 18:37:15 windows-startup-script-ps1:     # for each user, but if we create the directory before that user profile
2019/03/01 18:37:15 windows-startup-script-ps1:     # has been created first by Windows, then Windows will create a different
2019/03/01 18:37:15 windows-startup-script-ps1:     # user profile directory that looks like "<user>.KUBERNETES-MINI" and sshd
2019/03/01 18:37:15 windows-startup-script-ps1:     # will look for the authorized_keys file in THAT directory. In other words,
2019/03/01 18:37:15 windows-startup-script-ps1:     # we need to create the user first before we can put the authorized_keys
2019/03/01 18:37:16 windows-startup-script-ps1:     # file in that user profile directory. The user-profile.psm1 module (NOT
2019/03/01 18:37:16 windows-startup-script-ps1:     # FOR PRODUCTION USE!) has Create-NewProfile which achieves this.
2019/03/01 18:37:16 windows-startup-script-ps1:     #
2019/03/01 18:37:17 windows-startup-script-ps1:     # Run "Get-Command -Module Microsoft.PowerShell.LocalAccounts" to see the
2019/03/01 18:37:17 windows-startup-script-ps1:     # build-in commands for users and groups. For some reason the New-LocalUser
2019/03/01 18:37:17 windows-startup-script-ps1:     # command does not create the user profile directory, so we use the
2019/03/01 18:37:17 windows-startup-script-ps1:     # auxiliary user-profile.psm1 instead.
2019/03/01 18:37:17 windows-startup-script-ps1: 
2019/03/01 18:37:17 windows-startup-script-ps1:     $pw = [System.Web.Security.Membership]::GeneratePassword(16,2)
2019/03/01 18:37:17 windows-startup-script-ps1:     try {
2019/03/01 18:37:17 windows-startup-script-ps1:       # Create-NewProfile will throw this when the user profile already exists:
2019/03/01 18:37:17 windows-startup-script-ps1:       #   Create-NewProfile : Exception calling "SetInfo" with "0" argument(s):
2019/03/01 18:37:17 windows-startup-script-ps1:       #   "The account already exists."
2019/03/01 18:37:17 windows-startup-script-ps1:       # Just catch it and ignore it.
2019/03/01 18:37:17 windows-startup-script-ps1:       Create-NewProfile $username $pw -ErrorAction Stop
2019/03/01 18:37:17 windows-startup-script-ps1: 
2019/03/01 18:37:17 windows-startup-script-ps1:       # Add the user to the Administrators group, otherwise we will not have
2019/03/01 18:37:17 windows-startup-script-ps1:       # privilege when we ssh.
2019/03/01 18:37:17 windows-startup-script-ps1:       Add-LocalGroupMember -Group Administrators -Member $username
2019/03/01 18:37:17 windows-startup-script-ps1:     } catch {}
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1:     $user_dir = "C:\Users\" + $username
2019/03/01 18:37:18 windows-startup-script-ps1:     if (-not (Test-Path $user_dir)) {
2019/03/01 18:37:18 windows-startup-script-ps1:       # If for some reason Create-NewProfile failed to create the user profile
2019/03/01 18:37:18 windows-startup-script-ps1:       # directory just continue on to the next user.
2019/03/01 18:37:18 windows-startup-script-ps1:       continue
2019/03/01 18:37:18 windows-startup-script-ps1:     }
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1:     # NOTE: there is a race condition here where someone could try to ssh to
2019/03/01 18:37:18 windows-startup-script-ps1:     # this node in-between when we clear out the authorized_keys file and when
2019/03/01 18:37:18 windows-startup-script-ps1:     # we write keys to it. Oh well.
2019/03/01 18:37:18 windows-startup-script-ps1:     $user_keys_file = -join($user_dir, "\.ssh\authorized_keys")
2019/03/01 18:37:18 windows-startup-script-ps1:     New-Item -ItemType file -Force $user_keys_file | Out-Null
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1:     # New for v7.9.0.0: administrators_authorized_keys file. For permission
2019/03/01 18:37:18 windows-startup-script-ps1:     # information see
2019/03/01 18:37:18 windows-startup-script-ps1:     # https://github.com/PowerShell/Win32-OpenSSH/wiki/Security-protection-of-various-files-in-Win32-OpenSSH#administrators_authorized_keys.
2019/03/01 18:37:18 windows-startup-script-ps1:     $administrator_keys_file = ${env:ProgramData} + `
2019/03/01 18:37:18 windows-startup-script-ps1:         "\ssh\administrators_authorized_keys"
2019/03/01 18:37:18 windows-startup-script-ps1:     New-Item -ItemType file -Force $administrator_keys_file | Out-Null
2019/03/01 18:37:18 windows-startup-script-ps1:     icacls $administrator_keys_file /inheritance:r | Out-Null
2019/03/01 18:37:18 windows-startup-script-ps1:     icacls $administrator_keys_file /grant SYSTEM:`(F`) | Out-Null
2019/03/01 18:37:18 windows-startup-script-ps1:     icacls $administrator_keys_file /grant BUILTIN\Administrators:`(F`) | `
2019/03/01 18:37:18 windows-startup-script-ps1:         Out-Null
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1:     ForEach ($ssh_key in $_.value) {
2019/03/01 18:37:18 windows-startup-script-ps1:       # authorized_keys and other ssh config files must be UTF-8 encoded:
2019/03/01 18:37:18 windows-startup-script-ps1:       # https://github.com/PowerShell/Win32-OpenSSH/issues/862
2019/03/01 18:37:18 windows-startup-script-ps1:       # https://github.com/PowerShell/Win32-OpenSSH/wiki/Various-Considerations
2019/03/01 18:37:18 windows-startup-script-ps1:       Add-Content -Encoding UTF8 $user_keys_file $ssh_key
2019/03/01 18:37:18 windows-startup-script-ps1:       Add-Content -Encoding UTF8 $administrator_keys_file $ssh_key
2019/03/01 18:37:18 windows-startup-script-ps1:     }
2019/03/01 18:37:18 windows-startup-script-ps1:   }
2019/03/01 18:37:18 windows-startup-script-ps1:   Start-Sleep -sec $poll_interval
2019/03/01 18:37:18 windows-startup-script-ps1: }
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1: Started background process to write SSH keys
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1: Handles  NPM(K)    PM(K)      WS(K)     CPU(s)     Id  SI ProcessName                                                  
2019/03/01 18:37:18 windows-startup-script-ps1: -------  ------    -----      -----     ------     --  -- -----------                                                  
2019/03/01 18:37:18 windows-startup-script-ps1:      42       4      420       1200       0.03   4388   0 powershell                                                   
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: K8S_DIR = C:\etc\kubernetes
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: MANIFESTS_DIR = C:\etc\kubernetes\manifests
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: KUBELET_KEY_PATH = C:\etc\kubernetes\pki\kubelet.key
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: KUBECONFIG = C:\etc\kubernetes\kubelet.kubeconfig
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: CNI_DIR = C:\etc\kubernetes\cni
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: NODE_DIR = C:\etc\kubernetes\node\bin
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: LOGS_DIR = C:\etc\kubernetes\logs
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: PKI_DIR = C:\etc\kubernetes\pki
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: KUBELET_CERT_PATH = C:\etc\kubernetes\pki\kubelet.crt
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: KUBEPROXY_KUBECONFIG = C:\etc\kubernetes\kubeproxy.kubeconfig
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: KUBELET_CONFIG = C:\etc\kubernetes\kubelet-config.yaml
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: Path = C:\Windows\system32;C:\Windows;C:\Windows\System32\Wbem;C:\Windows\System32\WindowsPowerShell\v1.0\;C:\Windows\System32\OpenSSH\;C:\ProgramData\GooGet;C:\Program Files\Google\Compute Engine\metadata_scripts;C:\Program Files (x86)\Google\Cloud SDK\google-cloud-sdk\bin;C:\Program Files\Google\Compute Engine\sysprep;C:\Program Files\Docker;C:\Windows\system32\config\systemprofile\AppData\Local\Microsoft\WindowsApps;;C:\etc\kubernetes\node\bin
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: CA_CERT_BUNDLE_PATH = C:\etc\kubernetes\pki\ca-certificates.crt
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: BOOTSTRAP_KUBECONFIG = C:\etc\kubernetes\kubelet.bootstrap-kubeconfig
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: CNI_CONFIG_DIR = C:\etc\kubernetes\cni\config
2019/03/01 18:37:18 windows-startup-script-ps1: Setting environment variable: KUBE_NETWORK = l2bridge
2019/03/01 18:37:18 windows-startup-script-ps1: Creating C:\etc\kubernetes and its subdirectories.
2019/03/01 18:37:18 windows-startup-script-ps1: 
2019/03/01 18:37:18 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes
2019/03/01 18:37:18 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc
2019/03/01 18:37:18 windows-startup-script-ps1: PSChildName       : kubernetes
2019/03/01 18:37:18 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:18 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:18 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:18 windows-startup-script-ps1: Name              : kubernetes
2019/03/01 18:37:18 windows-startup-script-ps1: FullName          : C:\etc\kubernetes
2019/03/01 18:37:18 windows-startup-script-ps1: Parent            : etc
2019/03/01 18:37:18 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:18 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:18 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:18 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:13 PM
2019/03/01 18:37:18 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:13 PM
2019/03/01 18:37:18 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:19 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:19 windows-startup-script-ps1: BaseName          : kubernetes
2019/03/01 18:37:19 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:19 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:19 windows-startup-script-ps1: 
2019/03/01 18:37:19 windows-startup-script-ps1: 
2019/03/01 18:37:19 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\node\bin
2019/03/01 18:37:19 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\node
2019/03/01 18:37:19 windows-startup-script-ps1: PSChildName       : bin
2019/03/01 18:37:19 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:19 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:19 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:19 windows-startup-script-ps1: Name              : bin
2019/03/01 18:37:19 windows-startup-script-ps1: FullName          : C:\etc\kubernetes\node\bin
2019/03/01 18:37:19 windows-startup-script-ps1: Parent            : node
2019/03/01 18:37:19 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:19 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:19 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:19 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:13 PM
2019/03/01 18:37:19 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:19 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:19 windows-startup-script-ps1: BaseName          : bin
2019/03/01 18:37:19 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:19 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:19 windows-startup-script-ps1: 
2019/03/01 18:37:19 windows-startup-script-ps1: 
2019/03/01 18:37:19 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\logs
2019/03/01 18:37:19 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes
2019/03/01 18:37:19 windows-startup-script-ps1: PSChildName       : logs
2019/03/01 18:37:19 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:19 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:19 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:19 windows-startup-script-ps1: Name              : logs
2019/03/01 18:37:19 windows-startup-script-ps1: FullName          : C:\etc\kubernetes\logs
2019/03/01 18:37:19 windows-startup-script-ps1: Parent            : kubernetes
2019/03/01 18:37:19 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:19 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:19 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:19 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:19 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:19 windows-startup-script-ps1: BaseName          : logs
2019/03/01 18:37:19 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:19 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:19 windows-startup-script-ps1: 
2019/03/01 18:37:19 windows-startup-script-ps1: 
2019/03/01 18:37:19 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\cni
2019/03/01 18:37:19 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes
2019/03/01 18:37:19 windows-startup-script-ps1: PSChildName       : cni
2019/03/01 18:37:19 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:19 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:19 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:19 windows-startup-script-ps1: Name              : cni
2019/03/01 18:37:19 windows-startup-script-ps1: FullName          : C:\etc\kubernetes\cni
2019/03/01 18:37:19 windows-startup-script-ps1: Parent            : kubernetes
2019/03/01 18:37:19 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:19 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:19 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:19 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:18 PM
2019/03/01 18:37:19 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:19 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:19 windows-startup-script-ps1: BaseName          : cni
2019/03/01 18:37:19 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:19 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\cni\config
2019/03/01 18:37:20 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\cni
2019/03/01 18:37:20 windows-startup-script-ps1: PSChildName       : config
2019/03/01 18:37:20 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:20 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:20 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:20 windows-startup-script-ps1: Name              : config
2019/03/01 18:37:20 windows-startup-script-ps1: FullName          : C:\etc\kubernetes\cni\config
2019/03/01 18:37:20 windows-startup-script-ps1: Parent            : cni
2019/03/01 18:37:20 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:20 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:20 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:20 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:20 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:20 windows-startup-script-ps1: BaseName          : config
2019/03/01 18:37:20 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:20 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\manifests
2019/03/01 18:37:20 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes
2019/03/01 18:37:20 windows-startup-script-ps1: PSChildName       : manifests
2019/03/01 18:37:20 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:20 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:20 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:20 windows-startup-script-ps1: Name              : manifests
2019/03/01 18:37:20 windows-startup-script-ps1: FullName          : C:\etc\kubernetes\manifests
2019/03/01 18:37:20 windows-startup-script-ps1: Parent            : kubernetes
2019/03/01 18:37:20 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:20 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:20 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:20 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:18 PM
2019/03/01 18:37:20 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:20 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:20 windows-startup-script-ps1: BaseName          : manifests
2019/03/01 18:37:20 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:20 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes\pki
2019/03/01 18:37:20 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\etc\kubernetes
2019/03/01 18:37:20 windows-startup-script-ps1: PSChildName       : pki
2019/03/01 18:37:20 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:20 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:20 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:20 windows-startup-script-ps1: Name              : pki
2019/03/01 18:37:20 windows-startup-script-ps1: FullName          : C:\etc\kubernetes\pki
2019/03/01 18:37:20 windows-startup-script-ps1: Parent            : kubernetes
2019/03/01 18:37:20 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:20 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:20 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:20 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:19 PM
2019/03/01 18:37:20 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:19 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:19 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:19 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:19 PM
2019/03/01 18:37:20 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:19 PM
2019/03/01 18:37:20 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:20 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:20 windows-startup-script-ps1: BaseName          : pki
2019/03/01 18:37:20 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:20 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: 
2019/03/01 18:37:20 windows-startup-script-ps1: PSPath            : Microsoft.PowerShell.Core\FileSystem::C:\tmp
2019/03/01 18:37:20 windows-startup-script-ps1: PSParentPath      : Microsoft.PowerShell.Core\FileSystem::C:\
2019/03/01 18:37:20 windows-startup-script-ps1: PSChildName       : tmp
2019/03/01 18:37:20 windows-startup-script-ps1: PSDrive           : C
2019/03/01 18:37:20 windows-startup-script-ps1: PSProvider        : Microsoft.PowerShell.Core\FileSystem
2019/03/01 18:37:20 windows-startup-script-ps1: PSIsContainer     : True
2019/03/01 18:37:20 windows-startup-script-ps1: Name              : tmp
2019/03/01 18:37:20 windows-startup-script-ps1: FullName          : C:\tmp
2019/03/01 18:37:20 windows-startup-script-ps1: Parent            : 
2019/03/01 18:37:20 windows-startup-script-ps1: Exists            : True
2019/03/01 18:37:21 windows-startup-script-ps1: Root              : C:\
2019/03/01 18:37:21 windows-startup-script-ps1: Extension         : 
2019/03/01 18:37:21 windows-startup-script-ps1: CreationTime      : 3/1/2019 6:37:19 PM
2019/03/01 18:37:21 windows-startup-script-ps1: CreationTimeUtc   : 3/1/2019 6:37:19 PM
2019/03/01 18:37:21 windows-startup-script-ps1: LastAccessTime    : 3/1/2019 6:37:19 PM
2019/03/01 18:37:21 windows-startup-script-ps1: LastAccessTimeUtc : 3/1/2019 6:37:19 PM
2019/03/01 18:37:21 windows-startup-script-ps1: LastWriteTime     : 3/1/2019 6:37:19 PM
2019/03/01 18:37:21 windows-startup-script-ps1: LastWriteTimeUtc  : 3/1/2019 6:37:19 PM
2019/03/01 18:37:21 windows-startup-script-ps1: Attributes        : Directory
2019/03/01 18:37:21 windows-startup-script-ps1: Mode              : d-----
2019/03/01 18:37:21 windows-startup-script-ps1: BaseName          : tmp
2019/03/01 18:37:21 windows-startup-script-ps1: Target            : {}
2019/03/01 18:37:21 windows-startup-script-ps1: LinkType          : 
2019/03/01 18:37:21 windows-startup-script-ps1: 
2019/03/01 18:37:21 windows-startup-script-ps1: Downloaded https://github.com/Microsoft/SDN/raw/master/Kubernetes/windows/hns.psm1
2019/03/01 18:37:21 windows-startup-script-ps1: Importing registry key for Docker
2019/03/01 18:37:21 windows-startup-script-ps1: The operation completed successfully.
2019/03/01 18:37:26 windows-startup-script-ps1: Downloaded https://storage.googleapis.com/kubernetes-staging-424a22aa65/e2e-test-peterhornyack-devel/kubernetes-node-windows-amd64.tar.gz (SHA1 = 78c2e06fccf73d994f1243e7f4d89f80cda2782e)
2019/03/01 18:37:29 windows-startup-script-ps1: Creating node pki files
2019/03/01 18:37:29 windows-startup-script-ps1: TODO: need to set permissions correctly on C:\etc\kubernetes\pki\ca-certificates.crt; not sure what the Windows equivalent of 'umask 077' is
2019/03/01 18:37:29 windows-startup-script-ps1: TODO: need to set permissions correctly on C:\etc\kubernetes\pki\kubelet.crt; not sure what the Windows equivalent of 'umask 077' is
2019/03/01 18:37:29 windows-startup-script-ps1: TODO: need to set permissions correctly on C:\etc\kubernetes\pki\kubelet.key; not sure what the Windows equivalent of 'umask 077' is
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: LastWriteTime : 3/1/2019 6:37:29 PM
2019/03/01 18:37:29 windows-startup-script-ps1: Length        : 1253
2019/03/01 18:37:29 windows-startup-script-ps1: Name          : ca-certificates.crt
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: LastWriteTime : 3/1/2019 6:37:29 PM
2019/03/01 18:37:29 windows-startup-script-ps1: Length        : 1229
2019/03/01 18:37:29 windows-startup-script-ps1: Name          : kubelet.crt
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: LastWriteTime : 3/1/2019 6:37:29 PM
2019/03/01 18:37:29 windows-startup-script-ps1: Length        : 1675
2019/03/01 18:37:29 windows-startup-script-ps1: Name          : kubelet.key
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: kubelet bootstrap kubeconfig:
2019/03/01 18:37:29 windows-startup-script-ps1: apiVersion: v1
2019/03/01 18:37:29 windows-startup-script-ps1: kind: Config
2019/03/01 18:37:29 windows-startup-script-ps1: users:
2019/03/01 18:37:29 windows-startup-script-ps1: - name: kubelet
2019/03/01 18:37:29 windows-startup-script-ps1:   user:
2019/03/01 18:37:29 windows-startup-script-ps1:     client-certificate: C:\etc\kubernetes\pki\kubelet.crt
2019/03/01 18:37:29 windows-startup-script-ps1:     client-key: C:\etc\kubernetes\pki\kubelet.key
2019/03/01 18:37:29 windows-startup-script-ps1: clusters:
2019/03/01 18:37:29 windows-startup-script-ps1: - name: local
2019/03/01 18:37:29 windows-startup-script-ps1:   cluster:
2019/03/01 18:37:29 windows-startup-script-ps1:     server: https://35.224.3.221
2019/03/01 18:37:29 windows-startup-script-ps1:     certificate-authority: C:\etc\kubernetes\pki\ca-certificates.crt
2019/03/01 18:37:29 windows-startup-script-ps1: contexts:
2019/03/01 18:37:29 windows-startup-script-ps1: - context:
2019/03/01 18:37:29 windows-startup-script-ps1:     cluster: local
2019/03/01 18:37:29 windows-startup-script-ps1:     user: kubelet
2019/03/01 18:37:29 windows-startup-script-ps1:   name: service-account-context
2019/03/01 18:37:29 windows-startup-script-ps1: current-context: service-account-context
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:29 windows-startup-script-ps1: kubeproxy kubeconfig:
2019/03/01 18:37:29 windows-startup-script-ps1: apiVersion: v1
2019/03/01 18:37:29 windows-startup-script-ps1: kind: Config
2019/03/01 18:37:29 windows-startup-script-ps1: users:
2019/03/01 18:37:29 windows-startup-script-ps1: - name: kube-proxy
2019/03/01 18:37:29 windows-startup-script-ps1:   user:
2019/03/01 18:37:29 windows-startup-script-ps1:     token: sysw8QSkRSj7Gm7oktkuiI7hTRkZGLh1
2019/03/01 18:37:29 windows-startup-script-ps1: clusters:
2019/03/01 18:37:29 windows-startup-script-ps1: - name: local
2019/03/01 18:37:29 windows-startup-script-ps1:   cluster:
2019/03/01 18:37:29 windows-startup-script-ps1:     certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURiekNDQWxlZ0F3SUJBZ0lVUG1yVkNaL3BwSE1BTFBSZFVoTzdlNmEyU0Mwd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lqRWdNQjRHQTFVRUF3d1hNelV1TWpJMExqTXVNakl4UURFMU5URTBOalV4TmpBd0hoY05NVGt3TXpBeApNVGd6TWpReFdoY05Namt3TWpJMk1UZ3pNalF4V2pBaU1TQXdIZ1lEVlFRRERCY3pOUzR5TWpRdU15NHlNakZBCk1UVTFNVFEyTlRFMk1EQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUpWdDdvd1YKeUU4bnJ6Q0pNV28vNG1SVmQyRHh3N1ZVS0tsRkZuWmFNQVl1dWRqdzg5MzJteGw0N1ZPbFhUR2FMeVhZNGRvMApNblkwSVRQbEpldXVhcktINmtndHBMaFRSbFRIYkh1OXZqNy80ckE1L0s5dDBIWlBaSk1NYTAzcDhCWmFJdlUvClpNWi9QeDl1YW1oY3RxaUtteC9iSFdXcDJVQ3Eydm80MllqVnNoL1Vad0J2V1lmV0dZeGJMc0prMDRHVXZFUU4KMUQ4blN5bXBPUGFjSXo3cjhxMnl1Y3d1MUQzVmNtWnRCT3RrUzhRNGV1V2E0QUhoSmZXRjFoRUN3OCtxUnBTbApIa2xQWGlkRXM3OG50RTFQNy9xMTdFQ1c0bkZtT3J2cWd5bU11ZzI5N01US3MzVnpjM3lRa3VrTGtnQVlsbExUClN2SlBPQ2lMZXZ6Ny9ORUNBd0VBQWFPQm5EQ0JtVEFkQmdOVkhRNEVGZ1FVY0ZvdngrTzY1c0FZRXZhTS9wWG4Kd1ByMGpjNHdYUVlEVlIwakJGWXdWSUFVY0ZvdngrTzY1c0FZRXZhTS9wWG53UHIwamM2aEpxUWtNQ0l4SURBZQpCZ05WQkFNTUZ6TTFMakl5TkM0ekxqSXlNVUF4TlRVeE5EWTFNVFl3Z2hRK2F0VUpuK21rY3dBczlGMVNFN3Q3CnByWklMVEFNQmdOVkhSTUVCVEFEQVFIL01Bc0dBMVVkRHdRRUF3SUJCakFOQmdrcWhraUc5dzBCQVFzRkFBT0MKQVFFQUJKdFh0enhGdFpRSkwvN2FDVDF2Wm9TSGxpb09WUW9NN2VvT3NPdjc5NmtZeCtnZkNWbDI4clBHV3ZMcwpkdmpQakpGcEIvaysrOFdrMFVadUgyazNYRU5oV29zVkNNeGI0YldVNUlCemZ4ZTRxR1IxQTB3RXFnK0tsODBnCkR1VTRqWklaUzUybFhUVXE0NG4ya0xncHhzSEV0d3NvMHFiY1A2UTVkVkx2dlBHVDJFMmMvTGE1b1A5R0FJMkgKdTdMZVRSSXZLWGJPakFTYTZwYXlENnk0RGYvNFJEZ0xIaEg2YjBQcXNwNHNXVU5CQ1RIVzE4Q2lkR1FOYmo4Nwo4bWMwTWhOZEdPaENuOVBxNVNkWXlBNmFMZTNGc045Vjk1WkdtZExWQXB3QmN2bThlOUpTeVZkUjdCUWtlOXNDCkt2WHdNVnhIMGJ5blYydlBkOXdnTTFlQjFnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=
2019/03/01 18:37:29 windows-startup-script-ps1: contexts:
2019/03/01 18:37:29 windows-startup-script-ps1: - context:
2019/03/01 18:37:29 windows-startup-script-ps1:     cluster: local
2019/03/01 18:37:29 windows-startup-script-ps1:     user: kube-proxy
2019/03/01 18:37:29 windows-startup-script-ps1:   name: service-account-context
2019/03/01 18:37:29 windows-startup-script-ps1: current-context: service-account-context
2019/03/01 18:37:29 windows-startup-script-ps1: 
2019/03/01 18:37:30 windows-startup-script-ps1: fetched pod CIDR (same as IP alias range): 10.64.1.0/24
2019/03/01 18:37:30 windows-startup-script-ps1: WARNING: The names of some imported commands from the module 'hns' include unapproved verbs that might make them less 
2019/03/01 18:37:30 windows-startup-script-ps1: discoverable. To find the commands with unapproved verbs, run the Import-Module command again with the Verbose 
2019/03/01 18:37:30 windows-startup-script-ps1: parameter. For a list of approved verbs, type Get-Verb.
2019/03/01 18:37:30 windows-startup-script-ps1: Creating initial HNS network to force creation of vEthernet (Ethernet* interface
2019/03/01 18:37:30 windows-startup-script-ps1: VERBOSE: Invoke-HNSRequest Method[POST] Path[/networks] Data[{
2019/03/01 18:37:30 windows-startup-script-ps1:     "Subnets":  [
2019/03/01 18:37:30 windows-startup-script-ps1:                     {
2019/03/01 18:37:30 windows-startup-script-ps1:                         "GatewayAddress":  "192.168.255.1",
2019/03/01 18:37:30 windows-startup-script-ps1:                         "AddressPrefix":  "192.168.255.0/30"
2019/03/01 18:37:30 windows-startup-script-ps1:                     }
2019/03/01 18:37:30 windows-startup-script-ps1:                 ],
2019/03/01 18:37:30 windows-startup-script-ps1:     "Name":  "External",
2019/03/01 18:37:30 windows-startup-script-ps1:     "Type":  "L2Bridge"
2019/03/01 18:37:31 windows-startup-script-ps1: }]
2019/03/01 18:37:32 windows-startup-script-ps1: VERBOSE: Result : 
2019/03/01 18:37:32 windows-startup-script-ps1: {"Output":{"ActivityId":"D777BF32-5C21-42FB-A6E7-A2C8074C364D","AdditionalParams":{},"CurrentEndpointCount":0,"Extensio
2019/03/01 18:37:32 windows-startup-script-ps1: ns":[{"Id":"E7C3B2F0-F3C5-48DF-AF2B-10FED6D72E7A","IsEnabled":false,"Name":"Microsoft Windows Filtering 
2019/03/01 18:37:32 windows-startup-script-ps1: Platform"},{"Id":"E9B59CFA-2BE1-4B21-828F-B6FBDBDDC017","IsEnabled":true,"Name":"Microsoft Azure VFP Switch 
2019/03/01 18:37:32 windows-startup-script-ps1: Extension"},{"Id":"EA24CD6C-D17A-4348-9190-09F0D5BE83DD","IsEnabled":true,"Name":"Microsoft NDIS 
2019/03/01 18:37:32 windows-startup-script-ps1: Capture"}],"Health":{"LastErrorCode":0,"LastUpdateTime":131959390508108653},"ID":"6F3D540C-5645-4CAC-9351-79704512B06C"
2019/03/01 18:37:32 windows-startup-script-ps1: ,"IPv6":false,"LayeredOn":"AA3782C8-1A32-4D6A-B3CB-4347B41B545C","MacPools":[{"EndMacAddress":"00-15-5D-DF-4F-FF","Star
2019/03/01 18:37:32 windows-startup-script-ps1: tMacAddress":"00-15-5D-DF-40-00"}],"ManagementIP":"10.40.0.3","MaxConcurrentEndpoints":0,"Name":"External","Policies":[
2019/03/01 18:37:32 windows-startup-script-ps1: ],"Resources":{"AdditionalParams":{},"AllocationOrder":0,"Health":{"LastErrorCode":0,"LastUpdateTime":13195939052597294
2019/03/01 18:37:32 windows-startup-script-ps1: 5},"ID":"D777BF32-5C21-42FB-A6E7-A2C8074C364D","PortOperationTime":0,"State":1,"SwitchOperationTime":0,"VfpOperationTim
2019/03/01 18:37:32 windows-startup-script-ps1: e":0,"parentId":"739D9BF1-FFDD-4A1C-8D0E-617668B966F6"},"State":1,"Subnets":[{"AdditionalParams":{},"AddressPrefix":"19
2019/03/01 18:37:32 windows-startup-script-ps1: 2.168.255.0/30","GatewayAddress":"192.168.255.1","Health":{"LastErrorCode":0,"LastUpdateTime":131959390508108653},"ID":
2019/03/01 18:37:33 windows-startup-script-ps1: "91CFE618-3FDB-41FE-BE2C-DE3B24092266","ObjectType":5,"Policies":[],"State":0}],"TotalEndpoints":0,"Type":"L2Bridge","V
2019/03/01 18:37:33 windows-startup-script-ps1: ersion":38654705665},"Success":true}
2019/03/01 18:37:33 windows-startup-script-ps1: 
2019/03/01 18:37:33 windows-startup-script-ps1: ActivityId             : D777BF32-5C21-42FB-A6E7-A2C8074C364D
2019/03/01 18:37:33 windows-startup-script-ps1: AdditionalParams       : 
2019/03/01 18:37:33 windows-startup-script-ps1: CurrentEndpointCount   : 0
2019/03/01 18:37:33 windows-startup-script-ps1: Extensions             : {@{Id=E7C3B2F0-F3C5-48DF-AF2B-10FED6D72E7A; IsEnabled=False; Name=Microsoft Windows Filtering 
2019/03/01 18:37:33 windows-startup-script-ps1:                          Platform}, @{Id=E9B59CFA-2BE1-4B21-828F-B6FBDBDDC017; IsEnabled=True; Name=Microsoft Azure 
2019/03/01 18:37:33 windows-startup-script-ps1:                          VFP Switch Extension}, @{Id=EA24CD6C-D17A-4348-9190-09F0D5BE83DD; IsEnabled=True; 
2019/03/01 18:37:33 windows-startup-script-ps1:                          Name=Microsoft NDIS Capture}}
2019/03/01 18:37:33 windows-startup-script-ps1: Health                 : @{LastErrorCode=0; LastUpdateTime=131959390508108653}
2019/03/01 18:37:33 windows-startup-script-ps1: ID                     : 6F3D540C-5645-4CAC-9351-79704512B06C
2019/03/01 18:37:33 windows-startup-script-ps1: IPv6                   : False
2019/03/01 18:37:33 windows-startup-script-ps1: LayeredOn              : AA3782C8-1A32-4D6A-B3CB-4347B41B545C
2019/03/01 18:37:33 windows-startup-script-ps1: MacPools               : {@{EndMacAddress=00-15-5D-DF-4F-FF; StartMacAddress=00-15-5D-DF-40-00}}
2019/03/01 18:37:33 windows-startup-script-ps1: ManagementIP           : 10.40.0.3
2019/03/01 18:37:33 windows-startup-script-ps1: MaxConcurrentEndpoints : 0
2019/03/01 18:37:33 windows-startup-script-ps1: Name                   : External
2019/03/01 18:37:33 windows-startup-script-ps1: Policies               : {}
2019/03/01 18:37:33 windows-startup-script-ps1: Resources              : @{AdditionalParams=; AllocationOrder=0; Health=; ID=D777BF32-5C21-42FB-A6E7-A2C8074C364D; 
2019/03/01 18:37:33 windows-startup-script-ps1:                          PortOperationTime=0; State=1; SwitchOperationTime=0; VfpOperationTime=0; 
2019/03/01 18:37:34 windows-startup-script-ps1:                          parentId=739D9BF1-FFDD-4A1C-8D0E-617668B966F6}
2019/03/01 18:37:34 windows-startup-script-ps1: State                  : 1
2019/03/01 18:37:34 windows-startup-script-ps1: Subnets                : {@{AdditionalParams=; AddressPrefix=192.168.255.0/30; GatewayAddress=192.168.255.1; Health=; 
2019/03/01 18:37:34 windows-startup-script-ps1:                          ID=91CFE618-3FDB-41FE-BE2C-DE3B24092266; ObjectType=5; Policies=System.Object[]; State=0}}
2019/03/01 18:37:34 windows-startup-script-ps1: TotalEndpoints         : 0
2019/03/01 18:37:34 windows-startup-script-ps1: Type                   : L2Bridge
2019/03/01 18:37:34 windows-startup-script-ps1: Version                : 38654705665
2019/03/01 18:37:34 windows-startup-script-ps1: 
2019/03/01 18:37:34 windows-startup-script-ps1: Setting up Windows node HNS networking: podCidr = 10.64.1.0/24, podGateway = 10.64.1.1, podEndpointGateway = 10.64.1.2
2019/03/01 18:37:34 windows-startup-script-ps1: VERBOSE: Invoke-HNSRequest Method[POST] Path[/networks] Data[{
2019/03/01 18:37:34 windows-startup-script-ps1:     "Subnets":  [
2019/03/01 18:37:34 windows-startup-script-ps1:                     {
2019/03/01 18:37:34 windows-startup-script-ps1:                         "GatewayAddress":  "10.64.1.1",
2019/03/01 18:37:34 windows-startup-script-ps1:                         "AddressPrefix":  "10.64.1.0/24"
2019/03/01 18:37:34 windows-startup-script-ps1:                     }
2019/03/01 18:37:34 windows-startup-script-ps1:                 ],
2019/03/01 18:37:34 windows-startup-script-ps1:     "Name":  "l2bridge",
2019/03/01 18:37:34 windows-startup-script-ps1:     "Type":  "L2Bridge"
2019/03/01 18:37:34 windows-startup-script-ps1: }]
2019/03/01 18:37:34 windows-startup-script-ps1: VERBOSE: Result : 
2019/03/01 18:37:34 windows-startup-script-ps1: {"Output":{"ActivityId":"50C20767-FBA0-4388-9463-E31301B98E4B","AdditionalParams":{},"CurrentEndpointCount":0,"Extensio
2019/03/01 18:37:34 windows-startup-script-ps1: ns":[{"Id":"E7C3B2F0-F3C5-48DF-AF2B-10FED6D72E7A","IsEnabled":false,"Name":"Microsoft Windows Filtering 
2019/03/01 18:37:34 windows-startup-script-ps1: Platform"},{"Id":"E9B59CFA-2BE1-4B21-828F-B6FBDBDDC017","IsEnabled":true,"Name":"Microsoft Azure VFP Switch 
2019/03/01 18:37:34 windows-startup-script-ps1: Extension"},{"Id":"EA24CD6C-D17A-4348-9190-09F0D5BE83DD","IsEnabled":true,"Name":"Microsoft NDIS 
2019/03/01 18:37:34 windows-startup-script-ps1: Capture"}],"Health":{"LastErrorCode":0,"LastUpdateTime":131959390526798250},"ID":"64736A7F-E9F0-4465-B861-7879393DDD22"
2019/03/01 18:37:34 windows-startup-script-ps1: ,"IPv6":false,"LayeredOn":"AA3782C8-1A32-4D6A-B3CB-4347B41B545C","MacPools":[{"EndMacAddress":"00-15-5D-6E-AF-FF","Star
2019/03/01 18:37:35 windows-startup-script-ps1: tMacAddress":"00-15-5D-6E-A0-00"}],"ManagementIP":"10.40.0.3","MaxConcurrentEndpoints":0,"Name":"l2bridge","Policies":[
2019/03/01 18:37:35 windows-startup-script-ps1: ],"Resources":{"AdditionalParams":{},"AllocationOrder":0,"Health":{"LastErrorCode":0,"LastUpdateTime":13195939052739405
2019/03/01 18:37:35 windows-startup-script-ps1: 4},"ID":"50C20767-FBA0-4388-9463-E31301B98E4B","PortOperationTime":0,"State":1,"SwitchOperationTime":0,"VfpOperationTim
2019/03/01 18:37:35 windows-startup-script-ps1: e":0,"parentId":"739D9BF1-FFDD-4A1C-8D0E-617668B966F6"},"State":1,"Subnets":[{"AdditionalParams":{},"AddressPrefix":"10
2019/03/01 18:37:35 windows-startup-script-ps1: .64.1.0/24","GatewayAddress":"10.64.1.1","Health":{"LastErrorCode":0,"LastUpdateTime":131959390526798250},"ID":"1106633
2019/03/01 18:37:35 windows-startup-script-ps1: 2-4F67-4EF9-AF10-7340FDB14EC9","ObjectType":5,"Policies":[],"State":0}],"TotalEndpoints":0,"Type":"L2Bridge","Version":
2019/03/01 18:37:35 windows-startup-script-ps1: 38654705665},"Success":true}
2019/03/01 18:37:35 windows-startup-script-ps1: VERBOSE: Invoke-HNSRequest Method[POST] Path[/endpoints] Data[{
2019/03/01 18:37:35 windows-startup-script-ps1:     "GatewayAddress":  "0.0.0.0",
2019/03/01 18:37:35 windows-startup-script-ps1:     "Policies":  [
2019/03/01 18:37:35 windows-startup-script-ps1: 
2019/03/01 18:37:35 windows-startup-script-ps1:                  ],
2019/03/01 18:37:35 windows-startup-script-ps1:     "VirtualNetwork":  "64736a7f-e9f0-4465-b861-7879393ddd22",
2019/03/01 18:37:35 windows-startup-script-ps1:     "Name":  "cbr0",
2019/03/01 18:37:36 windows-startup-script-ps1:     "IPAddress":  "10.64.1.2"
2019/03/01 18:37:36 windows-startup-script-ps1: }]
2019/03/01 18:37:36 windows-startup-script-ps1: VERBOSE: Result : 
2019/03/01 18:37:36 windows-startup-script-ps1: {"Output":{"ActivityId":"00B652CE-40C6-4E10-B632-CED19D37054F","AdditionalParams":{},"CreateProcessingStartTime":131959
2019/03/01 18:37:36 windows-startup-script-ps1: 390528350590,"Health":{"LastErrorCode":0,"LastUpdateTime":131959390528213888},"ID":"428D83D1-6138-459F-9B77-4F8B48A6FF6
2019/03/01 18:37:36 windows-startup-script-ps1: B","IPAddress":"10.64.1.2","MacAddress":"00-15-5D-6E-A4-DD","Name":"cbr0","OriginalGatewayAddress":"0.0.0.0","Policies"
2019/03/01 18:37:36 windows-startup-script-ps1: :[{"Type":"L2Driver"}],"PrefixLength":24,"Resources":{"AdditionalParams":{},"AllocationOrder":0,"Health":{"LastErrorCod
2019/03/01 18:37:36 windows-startup-script-ps1: e":0,"LastUpdateTime":131959390528213888},"ID":"00B652CE-40C6-4E10-B632-CED19D37054F","PortOperationTime":0,"State":1,"
2019/03/01 18:37:36 windows-startup-script-ps1: SwitchOperationTime":0,"VfpOperationTime":0,"parentId":"50C20767-FBA0-4388-9463-E31301B98E4B"},"SharedContainers":[],"S
2019/03/01 18:37:36 windows-startup-script-ps1: tate":1,"Type":"L2Bridge","Version":38654705665,"VirtualNetwork":"64736a7f-e9f0-4465-b861-7879393ddd22","VirtualNetwork
2019/03/01 18:37:36 windows-startup-script-ps1: Name":"l2bridge"},"Success":true}
2019/03/01 18:37:36 windows-startup-script-ps1: VERBOSE: Invoke-HNSRequest Method[POST] Path[/endpoints/428d83d1-6138-459f-9b77-4f8b48a6ff6b/attach] Data[{
2019/03/01 18:37:36 windows-startup-script-ps1:     "SystemType":  "Host",
2019/03/01 18:37:36 windows-startup-script-ps1:     "CompartmentId":  1
2019/03/01 18:37:36 windows-startup-script-ps1: }]
2019/03/01 18:37:36 windows-startup-script-ps1: VERBOSE: Result : {"Success":true}
2019/03/01 18:37:36 windows-startup-script-ps1: The following helper DLL cannot be loaded: C:\PROGRAM FILES\GOOGLE\COMPUTE ENGINE\GVNIC_HELPER\GVNICHELPER.DLL.
2019/03/01 18:37:36 windows-startup-script-ps1: Ok.
2019/03/01 18:37:36 windows-startup-script-ps1: 
2019/03/01 18:37:36 windows-startup-script-ps1: VERBOSE: Performing operation "New" on Target "NetRoute -DestinationPrefix 10.64.1.0/24 -InterfaceIndex 14 -NextHop 
2019/03/01 18:37:36 windows-startup-script-ps1: 0.0.0.0 -Store Active"
2019/03/01 18:37:36 windows-startup-script-ps1: VERBOSE: Performing operation "New" on Target "NetRoute -DestinationPrefix 10.64.1.0/24 -InterfaceIndex 14 -NextHop 
2019/03/01 18:37:36 windows-startup-script-ps1: 0.0.0.0 -Store Persistent"
2019/03/01 18:37:36 windows-startup-script-ps1: 
2019/03/01 18:37:36 windows-startup-script-ps1: Caption            : 
2019/03/01 18:37:36 windows-startup-script-ps1: Description        : 
2019/03/01 18:37:36 windows-startup-script-ps1: ElementName        : 
2019/03/01 18:37:36 windows-startup-script-ps1: InstanceID         : ;:8@>8;8:9<>55;>55:8:8:8:55;
2019/03/01 18:37:36 windows-startup-script-ps1: AdminDistance      : 
2019/03/01 18:37:36 windows-startup-script-ps1: DestinationAddress : 
2019/03/01 18:37:36 windows-startup-script-ps1: IsStatic           : 
2019/03/01 18:37:36 windows-startup-script-ps1: RouteMetric        : 256
2019/03/01 18:37:36 windows-startup-script-ps1: TypeOfRoute        : 3
2019/03/01 18:37:36 windows-startup-script-ps1: AddressFamily      : IPv4
2019/03/01 18:37:36 windows-startup-script-ps1: CompartmentId      : 1
2019/03/01 18:37:36 windows-startup-script-ps1: DestinationPrefix  : 10.64.1.0/24
2019/03/01 18:37:36 windows-startup-script-ps1: InterfaceAlias     : vEthernet (Ethernet)
2019/03/01 18:37:36 windows-startup-script-ps1: InterfaceIndex     : 14
2019/03/01 18:37:36 windows-startup-script-ps1: InterfaceMetric    : 5
2019/03/01 18:37:36 windows-startup-script-ps1: NextHop            : 0.0.0.0
2019/03/01 18:37:36 windows-startup-script-ps1: PreferredLifetime  : 10675199.02:48:05.4775807
2019/03/01 18:37:36 windows-startup-script-ps1: Protocol           : NetMgmt
2019/03/01 18:37:36 windows-startup-script-ps1: Publish            : No
2019/03/01 18:37:36 windows-startup-script-ps1: State              : Alive
2019/03/01 18:37:36 windows-startup-script-ps1: Store              : ActiveStore
2019/03/01 18:37:36 windows-startup-script-ps1: ValidLifetime      : 10675199.02:48:05.4775807
2019/03/01 18:37:36 windows-startup-script-ps1: PSComputerName     : 
2019/03/01 18:37:36 windows-startup-script-ps1: ifIndex            : 14
2019/03/01 18:37:36 windows-startup-script-ps1: 
2019/03/01 18:37:36 windows-startup-script-ps1: 
2019/03/01 18:37:36 windows-startup-script-ps1: Caption            : 
2019/03/01 18:37:36 windows-startup-script-ps1: Description        : 
2019/03/01 18:37:37 windows-startup-script-ps1: ElementName        : 
2019/03/01 18:37:37 windows-startup-script-ps1: InstanceID         : ;:8@>8;8:9<>55;>55:8:8:8:55:
2019/03/01 18:37:37 windows-startup-script-ps1: AdminDistance      : 
2019/03/01 18:37:37 windows-startup-script-ps1: DestinationAddress : 
2019/03/01 18:37:37 windows-startup-script-ps1: IsStatic           : 
2019/03/01 18:37:37 windows-startup-script-ps1: RouteMetric        : 256
2019/03/01 18:37:37 windows-startup-script-ps1: TypeOfRoute        : 3
2019/03/01 18:37:37 windows-startup-script-ps1: AddressFamily      : IPv4
2019/03/01 18:37:37 windows-startup-script-ps1: CompartmentId      : 0
2019/03/01 18:37:37 windows-startup-script-ps1: DestinationPrefix  : 10.64.1.0/24
2019/03/01 18:37:37 windows-startup-script-ps1: InterfaceAlias     : vEthernet (Ethernet)
2019/03/01 18:37:37 windows-startup-script-ps1: InterfaceIndex     : 14
2019/03/01 18:37:37 windows-startup-script-ps1: InterfaceMetric    : 
2019/03/01 18:37:37 windows-startup-script-ps1: NextHop            : 0.0.0.0
2019/03/01 18:37:37 windows-startup-script-ps1: PreferredLifetime  : 10675199.02:48:05.4775807
2019/03/01 18:37:37 windows-startup-script-ps1: Protocol           : NetMgmt
2019/03/01 18:37:37 windows-startup-script-ps1: Publish            : No
2019/03/01 18:37:37 windows-startup-script-ps1: State              : Alive
2019/03/01 18:37:37 windows-startup-script-ps1: Store              : PersistentStore
2019/03/01 18:37:37 windows-startup-script-ps1: ValidLifetime      : 10675199.02:48:05.4775807
2019/03/01 18:37:37 windows-startup-script-ps1: PSComputerName     : 
2019/03/01 18:37:37 windows-startup-script-ps1: ifIndex            : 14
2019/03/01 18:37:37 windows-startup-script-ps1: 
2019/03/01 18:37:37 windows-startup-script-ps1: Waiting 45 seconds for host network state to quiesce
2019/03/01 18:37:57 GCEWindowsAgent: ERROR main.go:130: Network error when requesting metadata, make sure your instance has an active network and can reach the metadata server.
2019/03/01 18:37:57 GCEWindowsAgent: ERROR main.go:133: Get http://metadata.google.internal/computeMetadata/v1/?recursive=true&alt=json&wait_for_change=true&timeout_sec=60&last_etag=4edd9a0709a39167: dial tcp: lookup metadata.google.internal: getaddrinfow: The requested name is valid, but no data of the requested type was found.
2019/03/01 18:38:21 windows-startup-script-ps1: Waiting up to 60 seconds for GCE metadata server route to be removed
2019/03/01 18:38:21 windows-startup-script-ps1: Re-adding the GCE metadata server route
2019/03/01 18:38:22 windows-startup-script-ps1: Host network setup complete
2019/03/01 18:38:39 windows-startup-script-ps1: Downloaded https://github.com/yujuhong/gce-k8s-windows-testing/raw/master/windows-cni-plugins.zip
2019/03/01 18:38:40 windows-startup-script-ps1: using mgmt IP 10.40.0.3 and mgmt subnet 10.40.0.0/22 for CNI config
2019/03/01 18:38:40 windows-startup-script-ps1: CNI config:
2019/03/01 18:38:40 windows-startup-script-ps1: {
2019/03/01 18:38:40 windows-startup-script-ps1:   "cniVersion":  "0.2.0",
2019/03/01 18:38:40 windows-startup-script-ps1:   "name":  "l2bridge",
2019/03/01 18:38:40 windows-startup-script-ps1:   "type":  "win-bridge",
2019/03/01 18:38:40 windows-startup-script-ps1:   "capabilities":  {
2019/03/01 18:38:40 windows-startup-script-ps1:     "portMappings":  true
2019/03/01 18:38:40 windows-startup-script-ps1:   },
2019/03/01 18:38:40 windows-startup-script-ps1:   "ipam":  {
2019/03/01 18:38:40 windows-startup-script-ps1:     "type": "host-local",
2019/03/01 18:38:40 windows-startup-script-ps1:     "subnet": "10.64.1.0/24"
2019/03/01 18:38:40 windows-startup-script-ps1:   },
2019/03/01 18:38:40 windows-startup-script-ps1:   "dns":  {
2019/03/01 18:38:41 windows-startup-script-ps1:     "Nameservers":  [
2019/03/01 18:38:41 windows-startup-script-ps1:       "10.0.0.10"
2019/03/01 18:38:41 windows-startup-script-ps1:     ],
2019/03/01 18:38:41 windows-startup-script-ps1:     "Search": [
2019/03/01 18:38:41 windows-startup-script-ps1:       "cluster.local"
2019/03/01 18:38:41 windows-startup-script-ps1:     ]
2019/03/01 18:38:41 windows-startup-script-ps1:   },
2019/03/01 18:38:41 windows-startup-script-ps1:   "Policies":  [
2019/03/01 18:38:41 windows-startup-script-ps1:     {
2019/03/01 18:38:41 windows-startup-script-ps1:       "Name":  "EndpointPolicy",
2019/03/01 18:38:41 windows-startup-script-ps1:       "Value":  {
2019/03/01 18:38:41 windows-startup-script-ps1:         "Type":  "OutBoundNAT",
2019/03/01 18:38:41 windows-startup-script-ps1:         "ExceptionList":  [
2019/03/01 18:38:41 windows-startup-script-ps1:           "10.64.0.0/14",
2019/03/01 18:38:41 windows-startup-script-ps1:           "10.0.0.0/16",
2019/03/01 18:38:41 windows-startup-script-ps1:           "10.40.0.0/22"
2019/03/01 18:38:41 windows-startup-script-ps1:         ]
2019/03/01 18:38:41 windows-startup-script-ps1:       }
2019/03/01 18:38:41 windows-startup-script-ps1:     },
2019/03/01 18:38:41 windows-startup-script-ps1:     {
2019/03/01 18:38:41 windows-startup-script-ps1:       "Name":  "EndpointPolicy",
2019/03/01 18:38:41 windows-startup-script-ps1:       "Value":  {
2019/03/01 18:38:41 windows-startup-script-ps1:         "Type":  "ROUTE",
2019/03/01 18:38:41 windows-startup-script-ps1:         "DestinationPrefix":  "10.0.0.0/16",
2019/03/01 18:38:41 windows-startup-script-ps1:         "NeedEncap":  true
2019/03/01 18:38:41 windows-startup-script-ps1:       }
2019/03/01 18:38:41 windows-startup-script-ps1:     },
2019/03/01 18:38:41 windows-startup-script-ps1:     {
2019/03/01 18:38:41 windows-startup-script-ps1:       "Name":  "EndpointPolicy",
2019/03/01 18:38:41 windows-startup-script-ps1:       "Value":  {
2019/03/01 18:38:41 windows-startup-script-ps1:         "Type":  "ROUTE",
2019/03/01 18:38:41 windows-startup-script-ps1:         "DestinationPrefix":  "10.40.0.3/32",
2019/03/01 18:38:41 windows-startup-script-ps1:         "NeedEncap":  true
2019/03/01 18:38:41 windows-startup-script-ps1:       }
2019/03/01 18:38:41 windows-startup-script-ps1:     }
2019/03/01 18:38:41 windows-startup-script-ps1:   ]
2019/03/01 18:38:41 windows-startup-script-ps1: }
2019/03/01 18:38:41 windows-startup-script-ps1: 
2019/03/01 18:38:41 windows-startup-script-ps1: Kubelet config:
2019/03/01 18:38:41 windows-startup-script-ps1: kind: KubeletConfiguration
2019/03/01 18:38:41 windows-startup-script-ps1: apiVersion: kubelet.config.k8s.io/v1beta1
2019/03/01 18:38:41 windows-startup-script-ps1: cgroupRoot: /
2019/03/01 18:38:41 windows-startup-script-ps1: clusterDNS:
2019/03/01 18:38:41 windows-startup-script-ps1:   - '10.0.0.10'
2019/03/01 18:38:41 windows-startup-script-ps1: clusterDomain: 'cluster.local'
2019/03/01 18:38:41 windows-startup-script-ps1: readOnlyPort: 10255
2019/03/01 18:38:41 windows-startup-script-ps1: evictionHard:
2019/03/01 18:38:41 windows-startup-script-ps1:   memory.available: '250Mi'
2019/03/01 18:38:41 windows-startup-script-ps1:   nodefs.available: '10%'
2019/03/01 18:38:41 windows-startup-script-ps1:   nodefs.inodesFree: '5%'
2019/03/01 18:38:42 windows-startup-script-ps1: featureGates:
2019/03/01 18:38:42 windows-startup-script-ps1:   ExperimentalCriticalPodAnnotation: true
2019/03/01 18:38:42 windows-startup-script-ps1: enableDebuggingHandlers: true
2019/03/01 18:38:42 windows-startup-script-ps1: hairpinMode: 'hairpin-veth'
2019/03/01 18:38:42 windows-startup-script-ps1: authentication:
2019/03/01 18:38:42 windows-startup-script-ps1:   x509:
2019/03/01 18:38:42 windows-startup-script-ps1:     clientCAFile: 'C:\etc\kubernetes\pki\ca-certificates.crt'
2019/03/01 18:38:42 windows-startup-script-ps1: 
2019/03/01 18:38:42 windows-startup-script-ps1: kubelet_args from metadata: --v=4 --serialize-image-pulls=false --cloud-provider=gce --max-pods=110 --experimental-kernel-memcg-notification=true --register-with-taints=node.kubernetes.io/os=win1809:NoSchedule --config=C:\etc\kubernetes\kubelet-config.yaml --bootstrap-kubeconfig=C:\etc\kubernetes\kubelet.bootstrap-kubeconfig --kubeconfig=C:\etc\kubernetes\kubelet.kubeconfig --cert-dir=C:\etc\kubernetes\pki --network-plugin=cni --cni-bin-dir=C:\etc\kubernetes\cni --cni-conf-dir=C:\etc\kubernetes\cni\config --pod-manifest-path=C:\etc\kubernetes\manifests --image-pull-progress-deadline=5m --enable-debugging-handlers=true --windows-service=true --log-file=C:\etc\kubernetes\logs\kubelet.log --logtostderr=false --resolv-conf= --cgroups-per-qos=false --enforce-node-allocatable= --experimental-kernel-memcg-notification=false
2019/03/01 18:38:42 windows-startup-script-ps1: Creating kubelet service
2019/03/01 18:38:42 windows-startup-script-ps1: [SC] CreateService SUCCESS
2019/03/01 18:38:42 windows-startup-script-ps1: [SC] ChangeServiceConfig2 SUCCESS
2019/03/01 18:38:42 windows-startup-script-ps1: Starting kubelet service
2019/03/01 18:38:42 windows-startup-script-ps1: 
2019/03/01 18:38:42 windows-startup-script-ps1: SERVICE_NAME: kubelet 
2019/03/01 18:38:42 windows-startup-script-ps1:         TYPE               : 10  WIN32_OWN_PROCESS  
2019/03/01 18:38:42 windows-startup-script-ps1:         STATE              : 2  START_PENDING 
2019/03/01 18:38:42 windows-startup-script-ps1:                                 (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
2019/03/01 18:38:42 windows-startup-script-ps1:         WIN32_EXIT_CODE    : 0  (0x0)
2019/03/01 18:38:42 windows-startup-script-ps1:         SERVICE_EXIT_CODE  : 0  (0x0)
2019/03/01 18:38:42 windows-startup-script-ps1:         CHECKPOINT         : 0x0
2019/03/01 18:38:42 windows-startup-script-ps1:         WAIT_HINT          : 0x7d0
2019/03/01 18:38:42 windows-startup-script-ps1:         PID                : 1540
2019/03/01 18:38:42 windows-startup-script-ps1:         FLAGS              : 
2019/03/01 18:38:42 windows-startup-script-ps1: Waiting 10 seconds for kubelet to stabilize
2019/03/01 18:38:51 windows-startup-script-ps1: Creating kube-proxy service
2019/03/01 18:38:51 windows-startup-script-ps1: [SC] CreateService SUCCESS
2019/03/01 18:38:51 windows-startup-script-ps1: [SC] ChangeServiceConfig2 SUCCESS
2019/03/01 18:38:51 windows-startup-script-ps1: Starting kube-proxy service
2019/03/01 18:38:51 windows-startup-script-ps1: 
2019/03/01 18:38:51 windows-startup-script-ps1: SERVICE_NAME: kube-proxy 
2019/03/01 18:38:51 windows-startup-script-ps1:         TYPE               : 10  WIN32_OWN_PROCESS  
2019/03/01 18:38:51 windows-startup-script-ps1:         STATE              : 2  START_PENDING 
2019/03/01 18:38:51 windows-startup-script-ps1:                                 (NOT_STOPPABLE, NOT_PAUSABLE, IGNORES_SHUTDOWN)
2019/03/01 18:38:51 windows-startup-script-ps1:         WIN32_EXIT_CODE    : 0  (0x0)
2019/03/01 18:38:51 windows-startup-script-ps1:         SERVICE_EXIT_CODE  : 0  (0x0)
2019/03/01 18:38:51 windows-startup-script-ps1:         CHECKPOINT         : 0x0
2019/03/01 18:38:51 windows-startup-script-ps1:         WAIT_HINT          : 0x7d0
2019/03/01 18:38:51 windows-startup-script-ps1:         PID                : 1460
2019/03/01 18:38:51 windows-startup-script-ps1:         FLAGS              : 
2019/03/01 18:38:51 windows-startup-script-ps1: TODO: verify that jobs are still running; print more details about the background jobs.
2019/03/01 18:38:51 windows-startup-script-ps1: 
2019/03/01 18:38:51 windows-startup-script-ps1: Status   Name               DisplayName                           
2019/03/01 18:38:51 windows-startup-script-ps1: ------   ----               -----------                           
2019/03/01 18:38:51 windows-startup-script-ps1: Running  kubelet            kubelet                               
2019/03/01 18:38:51 windows-startup-script-ps1: Running  kube-proxy         kube-proxy                            
2019/03/01 18:38:51 windows-startup-script-ps1: 
2019/03/01 18:38:51 windows-startup-script-ps1: 
2019/03/01 18:38:51 windows-startup-script-ps1: 
2019/03/01 18:38:51 windows-startup-script-ps1: Kubernetes components started successfully
2019/03/01 18:38:51 windows-startup-script-ps1: Waiting 15 seconds for node to join cluster.
2019/03/01 18:39:06 windows-startup-script-ps1: kubectl get nodes:
2019/03/01 18:39:06 windows-startup-script-ps1: NAME                                             STATUS                     ROLES    AGE     VERSION
2019/03/01 18:39:06 windows-startup-script-ps1: e2e-test-peterhornyack-master                    Ready,SchedulingDisabled   <none>   3m20s   v1.14.0-alpha.1.327+065f51a3cd8615-dirty
2019/03/01 18:39:06 windows-startup-script-ps1: e2e-test-peterhornyack-minion-group-9xkx         Ready                      <none>   2m45s   v1.14.0-alpha.1.327+065f51a3cd8615-dirty
2019/03/01 18:39:06 windows-startup-script-ps1: e2e-test-peterhornyack-minion-group-p4dp         Ready                      <none>   2m57s   v1.14.0-alpha.1.327+065f51a3cd8615-dirty
2019/03/01 18:39:06 windows-startup-script-ps1: e2e-test-peterhornyack-windows-node-group-kvdp   Ready                      <none>   25s     v1.14.0-alpha.1.327+065f51a3cd8615-dirty
2019/03/01 18:39:07 windows-startup-script-ps1: 
2019/03/01 18:39:07 windows-startup-script-ps1: TODO: run more verification commands.
2019/03/01 18:39:07 windows-startup-script-ps1: 
2019/03/01 18:39:07 windows-startup-script-ps1: 
2019/03/01 18:40:19 GCEWindowsAgent: Resetting password for user peterhornyack

